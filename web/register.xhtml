<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./WEB-INF/publicTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title">
        Please inform each line :
    </ui:define>

    <ui:define name="body">
        <h:form class="form-horizontal">
            <h:panelGroup rendered="#{not jUsername.valid || not jPassword.valid
                                      ||not firstName.valid || not lastName.valid
                                      || not email.valid || not PhoneNo.valid
                                      || not addressStreet.valid || not addressCity.valid
                                      || not addressState.valid || not addressZipCode.valid || not addressCountry.valid}" 
                          layout="block" class="alert alert-warning alert-dismissible">
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h:messages layout="table" style="color:red"/>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel class="col-sm-2 control-label" for="j_username" value="Username"/>
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{jUsername}" id="j_username" value="#{customerController.login}"/>
                </h:panelGroup>
                <h:outputText style="color:red" rendered="#{not empty customerController.message}" value="#{customerController.message}"/>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel class="col-sm-2 control-label" for="j_password" value="Password"/>
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputSecret binding="#{jPassword}" id="j_password" value="#{customerController.password}"/>
                </h:panelGroup>
            </h:panelGroup>
            Personal Info :
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="firstName" class="col-sm-2 control-label" value="First Name"/>
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{firstName}" id="firstName" class="form-control" value="#{customerController.customer.firstName}" />
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="lastName" class="col-sm-2 control-label" value="Last Name" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{lastName}" id="lastName" class="form-control" value="#{customerController.customer.lastName}" />
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="email" class="col-sm-2 control-label" value="Email" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{email}" id="email" class="form-control" value="#{customerController.customer.email}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="phoneNo" class="col-sm-2 control-label" value="Phone No" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{PhoneNo}" id="phoneNo" class="form-control" value="#{customerController.customer.phoneNo}"/>
                </h:panelGroup>
            </h:panelGroup>
            Address : 
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="street" class="col-sm-2 control-label" value="Street" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{addressStreet}" id="street" class="form-control" value="#{customerController.address.street}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="city" class="col-sm-2 control-label" value="City" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{addressCity}" id="city" class="form-control" value="#{customerController.address.city}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="state" class="col-sm-2 control-label" value="State" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{addressState}" id="state" class="form-control" value="#{customerController.address.state}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="zipCode" class="col-sm-2 control-label" value="Zip Code" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{addressZipCode}" id="zipCode" class="form-control" value="#{customerController.address.zipCode}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:outputLabel for="country" class="col-sm-2 control-label" value="Country" />
                <h:panelGroup layout="block" class="col-sm-10">
                    <h:inputText binding="#{addressCountry}" id="country" class="form-control" value="#{customerController.address.country}"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-group">
                <h:panelGroup layout="block" class="col-sm-offset-2 col-sm-10">
                    <h:commandButton type="submit" value="Register" action="#{customerController.register()}"/>                    
                    <h:link value="Cancel" outcome="index.xhtml"/>
                </h:panelGroup>
            </h:panelGroup>
        </h:form>
    </ui:define>

</ui:composition>
